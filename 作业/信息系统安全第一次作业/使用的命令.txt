零、环境配置
apt-get update
apt-get install python3 python3-pip python3-dev git libssl-dev libffi-dev build-essential
python3 -m pip install --upgrade pip
python3 -m pip install --upgrade pwntools

git clone https://github.com/pwndbg/pwndbg
cd pwndbg
./setup.sh

//安装cmake
apt install cmake

//安装keystone-engine
git clone https://github.com/keystone-engine/keystone.git
cd keystone
mkdir build
cd build
../make-share.sh
make install
ldconfig
cd ../bindings/python
make install3	 # or sudo make install for python2-bindings

//安装ropper
pip3 install filebytes==0.9.18
git clone https://github.com/sashs/Ropper.git
cd Ropper
python3 setup.py install

//安装-32环境
apt-get install gcc-multilib

一、开始实验

vim stack.c
sysctl -w kernel.randomize_va_space=0 	//关闭ASLR
gcc -fno-stack-protector -no-pie -g -m32 stack.c -o stack 		//对程序进行编译
ulimit -c unlimited				//核心转储
sysctl -w kernel.core_pattern=/tmp/core-%e.%p.%h.%t		//在tmp中寻找core
echo -e "aaaabaaacaaadaaaeaaafaaagaaahaaaiaaajaaakaaalaaamaaanaaaoaaapaaaqaaaraaasaaataaauaaavaaawaaaxaaayaaa"|./stack						//运行stack程序

//
进入tmp文件，打开终端：
(首先将./stack文件拖进tmp文件里面）
gdb ./stack core-stack.130007.lm-virtual-machine.1683630347

//
进入了gdb之中：
i registers eip


ropper --file ./stack | grep "pop" | grep "ret"




